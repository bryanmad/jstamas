<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <meta content="ie=edge" http-equiv="X-UA-Compatible" />
        <title>test</title>
        <link
            href="https://fonts.googleapis.com/css?family=Kalam"
            rel="stylesheet"
        />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <style>
            #b1,
            #b2 {
                height: 20vh;
                width: 40vw;
                font-size: 20vh;
            }
            #skill_1 {
                font-size: 20vh;
                font-family:
                    "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
                    "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
            }
        </style>
    </head>
    <body>
        <button id="b1" class="add" data-target="skill_1"></button><br />
        <button id="b2" class="subtract" data-target="skill_1"></button><br />
        <br />
        <br />
        <span id="skill_1">0</span>
        <script>
            var timeout, interval;

            [].forEach.call(
                document.querySelectorAll(".add"),
                function (button) {
                    // prevent default menu of options
                    button.addEventListener("contextmenu", (event) => {
                        event.preventDefault();
                    });

                    button.addEventListener("contextmenu", function () {
                        var id = button.dataset.target;
                        incrementValue(id);

                        timeout = setTimeout(function () {
                            interval = setInterval(function () {
                                incrementValue(id);
                            }, 50);
                        }, 100);
                    });

                    button.addEventListener("touchend", clearTimers);

                    function clearTimers() {
                        clearTimeout(timeout);
                        clearInterval(interval);
                    }
                },
            );

            [].forEach.call(
                document.querySelectorAll(".subtract"),
                function (button) {
                    // prevent default menu of options
                    button.addEventListener("contextmenu", (event) => {
                        event.preventDefault();
                    });
                    button.addEventListener("contextmenu", function () {
                        var id = button.dataset.target;
                        decrementValue(id);

                        timeout = setTimeout(function () {
                            interval = setInterval(function () {
                                decrementValue(id);
                            }, 50);
                        }, 100);
                    });

                    button.addEventListener("touchend", clearTimers);

                    function clearTimers() {
                        clearTimeout(timeout);
                        clearInterval(interval);
                    }
                },
            );

            function incrementValue(id) {
                var el = document.getElementById(id);
                var value = parseInt(el.textContent, 10);
                document.getElementById(id).textContent = ++value;
            }

            function decrementValue(id) {
                var el = document.getElementById(id);
                var value = parseInt(el.textContent, 10);
                document.getElementById(id).textContent = --value;
            }
        </script>
    </body>
</html>
